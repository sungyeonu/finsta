{"version":3,"sources":["firebase.js","components/AuthForm.tsx","graphics/Instagram-Logo.png","routes/Auth.tsx","graphics/blankProfile.png","components/Post.tsx","graphics/editButton.png","components/PostForm.tsx","graphics/camera.png","routes/Home.tsx","routes/Profile.tsx","components/Navigation.tsx","components/Router.tsx","components/App.tsx","index.tsx"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebaseInstance","dbService","firestore","authService","auth","storageService","storage","AuthForm","useState","email","setEmail","password","setPassword","newAccount","setNewAccount","error","setError","onChange","event","target","name","value","onSubmit","a","preventDefault","createUserWithEmailAndPassword","data","signInWithEmailAndPassword","console","log","message","className","type","placeholder","required","onClick","prev","Auth","onGoogleClick","provider","GoogleAuthProvider","signInWithPopup","src","Logo","alt","width","Post","postObj","userUid","isOwner","userDisplayName","profilePicture","setProfilePicture","newComment","setNewComment","commentInput","useRef","useEffect","getProfilePictureRef","numLikes","likedUsers","onDeleteClick","window","confirm","doc","id","delete","refFromURL","attachmentUrl","onLikeClick","includes","index","indexOf","splice","update","push","newCommentOnSubmit","comments","commentObject","creatorDisplayName","text","date","Date","now","ref","child","creatorId","profilePictureRef","blankProfile","getDownloadURL","then","url","location","height","aria-label","fill","viewBox","d","current","focus","clip-rule","fill-rule","length","caption","map","comment","maxLength","PostForm","userObj","setCaption","setLocation","attachment","setAttachment","hiddenFileInput","attachmentRef","uid","uuidv4","putString","response","postObject","createdAt","displayName","collection","add","click","accept","theFile","files","reader","FileReader","onloadend","finishedEvent","fileUrl","result","toString","readAsDataURL","Home","posts","setPosts","onSnapshot","snapshot","postArray","docs","sort","postSort","b","post","Profile","refreshUser","history","useHistory","newDisplayName","setNewDisplayName","updateProfile","onProfilePictureSubmit","onChangeUsernameSubmit","signOut","Navigation","to","AppRouter","isLoggedIn","exact","path","from","App","init","setInit","setUserObj","onAuthStateChanged","user","args","split","currentUser","Boolean","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a1e7395e.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB6ytJ2V5CqADWwu0Y9jtEzrY924PfxVcw\",\r\n  authDomain: \"finsta-8e8a4.firebaseapp.com\",\r\n  databaseURL: \"https://finsta-8e8a4.firebaseio.com\",\r\n  projectId: \"finsta-8e8a4\",\r\n  storageBucket: \"finsta-8e8a4.appspot.com\",\r\n  messagingSenderId: \"604707364277\",\r\n  appId: \"1:604707364277:web:04aa3f34d6dbab3bfd8dfc\",\r\n}; \r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n// const authService = firebase.auth();\r\n\r\nexport const firebaseInstance = firebase;\r\nexport const dbService = firebase.firestore();\r\nexport const authService = firebase.auth();\r\nexport const storageService = firebase.storage();","import React, { useState } from \"react\";\r\nimport { authService } from \"../firebase\";\r\nimport \"../styles.css\";\r\nimport \"../routes/auth.css\";\r\n\r\nconst AuthForm = () => {\r\n  const [email, setEmail] = useState<string>(\"\");\r\n  const [password, setPassword] = useState<string>(\"\");\r\n  const [newAccount, setNewAccount] = useState<Boolean>(true);\r\n  const [error, setError] = useState<string>(\"\");\r\n\r\n  const onChange = (event) => {\r\n    const {\r\n      target: { name, value },\r\n    } = event;\r\n    if (name === \"email\") {\r\n      setEmail(value);\r\n    } else if (name === \"password\") {\r\n      setPassword(value);\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      let data;\r\n      if (newAccount) {\r\n        data = await authService.createUserWithEmailAndPassword(\r\n          email,\r\n          password\r\n        );\r\n      } else {\r\n        data = await authService.signInWithEmailAndPassword(email, password);\r\n      }\r\n      console.log(data);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const toggleAccount = () => setNewAccount((prev) => !prev);\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={onSubmit}>\r\n        <input\r\n          className=\"authInput\"\r\n          name=\"email\"\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          required\r\n          value={email}\r\n          onChange={onChange}\r\n        />\r\n        <input\r\n          className=\"authInput\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          required\r\n          value={password}\r\n          onChange={onChange}\r\n        />\r\n        <input\r\n          className=\"signInWithGoogleButton\"\r\n          type=\"submit\"\r\n          value={newAccount ? \"Sign up\" : \"Log in \"}\r\n        />\r\n\r\n      </form>\r\n      {error && (\r\n        <>\r\n          <span className=\"errorText\">{error}</span>\r\n          <br />\r\n          <br />\r\n        </>\r\n      )}\r\n      <span onClick={toggleAccount}>\r\n        {newAccount\r\n          ? \"Have an account? Log in\"\r\n          : \"Don't have an account? Sign up\"}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\nexport default AuthForm;\r\n","export default __webpack_public_path__ + \"static/media/Instagram-Logo.d9be23dd.png\";","import React from 'react';\r\nimport AuthForm from '../components/AuthForm';\r\nimport { authService, firebaseInstance } from '../firebase';\r\nimport \"./auth.css\";\r\nimport Logo from \"../graphics/Instagram-Logo.png\";\r\n\r\nconst Auth = () => {\r\n  const onGoogleClick = async(event) => {\r\n    const { target:{name} } = event;\r\n    let provider;\r\n    if (name === \"google\") {\r\n      provider = new firebaseInstance.auth.GoogleAuthProvider();\r\n    }\r\n    await authService.signInWithPopup(provider);\r\n  }\r\n\r\n  return (\r\n    <div className=\"authContainer\">\r\n      <img\r\n        src={Logo}\r\n        alt=\"Instagram Logo\"\r\n        className=\"logoLarge\"\r\n        width=\"180\"\r\n      ></img>\r\n      <span className=\"greyLargeText\">\r\n        Sign up to see photos from your friends.\r\n      </span>\r\n      <button\r\n        name=\"google\"\r\n        className=\"signInWithGoogleButton\"\r\n        onClick={onGoogleClick}\r\n      >\r\n        Log in with Google\r\n      </button>\r\n      <span className=\"greyLargeText\">OR</span>\r\n      <AuthForm />\r\n      <span className=\"greySmallText\">\r\n        By signing up, you agree to our Terms, Data Policy and Cookies Policy\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","export default __webpack_public_path__ + \"static/media/blankProfile.c3f94521.png\";","import { useState, useEffect, useRef }  from \"react\";\r\nimport { dbService, storageService } from \"../firebase\";\r\nimport \"./post.css\";\r\nimport editLogo from '../graphics/editButton.png';\r\nimport blankProfile from '../graphics/blankProfile.png';\r\n\r\ninterface PostProps {\r\n  isOwner: boolean;\r\n  userUid: any;\r\n  postObj: any;\r\n  userDisplayName: string;\r\n}\r\n\r\nconst Post = ({ postObj, userUid, isOwner, userDisplayName }: PostProps) => {\r\n  const [profilePicture, setProfilePicture] = useState(\"\");\r\n  const [newComment, setNewComment] = useState<string>(\"\");\r\n  const commentInput = useRef(null);\r\n\r\n  useEffect(() => {\r\n    getProfilePictureRef();\r\n  }, []);\r\n\r\n  const handleFocus = () => {\r\n    commentInput.current.focus();\r\n  };\r\n\r\n  const onDeleteClick = async () => {\r\n    const ok: boolean = window.confirm(\r\n      \"Are you sure you want to delete this post?\"\r\n    );\r\n    if (ok) {\r\n      await dbService.doc(`posts/${postObj.id}`).delete();\r\n      await storageService.refFromURL(postObj.attachmentUrl).delete();\r\n    }\r\n  };\r\n\r\n  const onLikeClick = async () => {\r\n    // add user to likedUsers if the user had not liked the post. If else, then take the user off likedUsers\r\n    let likedUsers = postObj.likedUsers;\r\n    if (likedUsers.includes(userUid)) {\r\n      const index = likedUsers.indexOf(userUid);\r\n      likedUsers.splice(index, 1);\r\n      await dbService.doc(`posts/${postObj.id}`).update({\r\n        likedUsers: likedUsers,\r\n      });\r\n    } else {\r\n      likedUsers.push(userUid);\r\n      await dbService.doc(`posts/${postObj.id}`).update({\r\n        likedUsers: likedUsers,\r\n      });\r\n    }\r\n  };\r\n\r\n  const likeButton = (likedUsers) => {\r\n    if (likedUsers.includes(userUid)) {\r\n      return (\r\n        <span className=\"icon\">\r\n          <svg\r\n            onClick={onLikeClick}\r\n            aria-label=\"Unlike\"\r\n            className=\"icon\"\r\n            fill=\"#ed4956\"\r\n            height=\"24\"\r\n            viewBox=\"0 0 48 48\"\r\n            width=\"24\"\r\n          >\r\n            <path d=\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path>\r\n          </svg>\r\n        </span>\r\n      );\r\n    } else {\r\n      return (\r\n        <span className=\"icon\">\r\n          <svg\r\n            onClick={onLikeClick}\r\n            aria-label=\"Like\"\r\n            className=\"icon\"\r\n            fill=\"#262626\"\r\n            height=\"24\"\r\n            viewBox=\"0 0 48 48\"\r\n            width=\"24\"\r\n          >\r\n            <path d=\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path>\r\n          </svg>\r\n        </span>\r\n      );\r\n    }\r\n  };\r\n\r\n  const newCommentOnChange = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event;\r\n    setNewComment(value);\r\n  };\r\n\r\n  const newCommentOnSubmit = async (event) => {\r\n    let comments = postObj.comments;\r\n    const commentObject = {\r\n      creatorDisplayName: userDisplayName,\r\n      text: newComment,\r\n      date: Date.now(),\r\n    };\r\n    comments.push(commentObject);\r\n    await dbService.doc(`posts/${postObj.id}`).update({\r\n      comments: comments,\r\n    });\r\n    setNewComment(\"\");\r\n  };\r\n\r\n  const commentButton = () => {\r\n    return (\r\n      <span className=\"icon\">\r\n        <svg\r\n          onClick={() => handleFocus()}\r\n          aria-label=\"Comment\"\r\n          fill=\"#262626\"\r\n          height=\"24\"\r\n          viewBox=\"0 0 48 48\"\r\n          width=\"24\"\r\n        >\r\n          <path\r\n            clip-rule=\"evenodd\"\r\n            d=\"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z\"\r\n            fill-rule=\"evenodd\"\r\n          ></path>\r\n        </svg>\r\n      </span>\r\n    );\r\n  };\r\n  const likesSpan = (numLikes) => {\r\n    if (numLikes === 1) {\r\n      return <span className=\"numLikes\"> {numLikes} like </span>;\r\n    } else {\r\n      return <span className=\"numLikes\"> {numLikes} likes </span>;\r\n    }\r\n  };\r\n\r\n  const getProfilePictureRef = async () => {\r\n    const profilePictureRef = await storageService\r\n      .ref()\r\n      .child(postObj.creatorId + \"/profile\");\r\n    setProfilePicture(blankProfile);\r\n    profilePictureRef.getDownloadURL().then((url) => {\r\n      setProfilePicture(url);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"postContainer\">\r\n      <div className=\"topInfo\">\r\n        <div className=\"profileImageSmallCropper\">\r\n          <img\r\n            src={profilePicture}\r\n            className=\"profilePictureSmall\"\r\n            alt=\"Profile\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <div className=\"topInfoText\">\r\n            <span className=\"creatorName\">{postObj.creatorDisplayName}</span>\r\n            <span className=\"location\">{postObj.location}</span>\r\n          </div>\r\n\r\n          {isOwner ? (\r\n            <div className=\"deletePostButton\">\r\n              <img\r\n                onClick={onDeleteClick}\r\n                src={editLogo}\r\n                alt=\"Edit Post\"\r\n                width=\"18px\"\r\n              />\r\n            </div>\r\n          ) : (\r\n            <div />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {postObj.attachmentUrl && (\r\n        <img\r\n          alt=\"post\"\r\n          src={postObj.attachmentUrl}\r\n          width=\"360px\"\r\n          height=\"360px\"\r\n        />\r\n      )}\r\n      <div className=\"middleInfo\">\r\n        <div className=\"postIcons\">\r\n          {likeButton(postObj.likedUsers)}\r\n          {commentButton()}\r\n        </div>\r\n        {likesSpan(postObj.likedUsers.length)}\r\n      </div>\r\n      <span className=\"caption\">{postObj.caption}</span>\r\n      <span className=\"location\">{}</span>\r\n      {postObj.comments.map((comment) => (\r\n        <div className=\"comment\">\r\n          <span className=\"commentCreatorName\">\r\n            {comment.creatorDisplayName}\r\n          </span>\r\n          <span className=\"commentText\"> {comment.text} </span>\r\n        </div>\r\n      ))}\r\n      <div className=\"addCommentDiv\">\r\n        <span>\r\n          <input\r\n            ref={commentInput}\r\n            className=\"commentInput\"\r\n            value={newComment}\r\n            onChange={newCommentOnChange}\r\n            type=\"text\"\r\n            placeholder=\"Enter a comment\"\r\n            maxLength={400}\r\n          />\r\n        </span>\r\n        <span onClick={newCommentOnSubmit} className=\"commentSubmit\">\r\n          Post\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post","export default \"data:image/png;base64,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\"","import { useState, useRef } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { storageService, dbService } from \"../firebase\";\r\nimport \"./PostForm.css\";\r\nimport camera from \"../graphics/camera.png\";\r\n\r\ninterface PostFormProps {\r\n  userObj: any;\r\n}\r\nconst PostForm = ({ userObj }: PostFormProps) => {\r\n  const [caption, setCaption] = useState<string>(\"\");\r\n  const [location, setLocation] = useState<string>(\"\");\r\n  const [attachment, setAttachment] = useState(\"\");\r\n  const hiddenFileInput = useRef(null);\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    let attachmentUrl = \"\";\r\n    if (attachment !== \"\") {\r\n      const attachmentRef = storageService\r\n        .ref()\r\n        .child(`${userObj.uid}/${uuidv4()}`);\r\n      const response = await attachmentRef.putString(attachment, \"data_url\");\r\n      attachmentUrl = await response.ref.getDownloadURL();\r\n    }\r\n    const postObject = {\r\n      caption: caption,\r\n      location: location,\r\n      createdAt: Date.now(),\r\n      creatorId: userObj.uid,\r\n      attachmentUrl,\r\n      creatorDisplayName: userObj.displayName,\r\n      likedUsers: [],\r\n      comments: []\r\n    };\r\n    if (attachmentUrl && caption) {\r\n      await dbService.collection(\"posts\").add(postObject);\r\n      setCaption(\"\");\r\n      setLocation(\"\");\r\n      setAttachment(\"\");\r\n    } else {\r\n      console.log(\"error\", postObject);\r\n    }\r\n  };\r\n\r\n  const captionOnChange = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event;\r\n    setCaption(value);\r\n  };\r\n\r\n  const locationOnChange = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event;\r\n    setLocation(value);\r\n  };\r\n\r\n  const onFileChange = (event) => {\r\n    const {\r\n      target: { files },\r\n    } = event;\r\n    const theFile = files[0];\r\n    const reader = new FileReader();\r\n    reader.onloadend = (finishedEvent) => {\r\n      const fileUrl = (finishedEvent.target as FileReader).result.toString();\r\n      setAttachment(fileUrl);\r\n    };\r\n    reader.readAsDataURL(theFile);\r\n  };\r\n\r\n  const handleFileClick = (event) => {\r\n    hiddenFileInput.current.click();\r\n  }\r\n  return (\r\n    <form onSubmit={onSubmit} className=\"postFactoryContainer\">\r\n      <span className=\"postFactoryTitle\">Create post</span>\r\n      <span className=\"postFactoryText\">Caption*</span>\r\n      <input\r\n        className=\"postFactoryInput\"\r\n        value={caption}\r\n        onChange={captionOnChange}\r\n        type=\"text\"\r\n        placeholder=\"e.g. my favorite cookie is...\"\r\n        maxLength={160}\r\n      />\r\n      <span className=\"postFactoryText\">Location</span>\r\n      <input\r\n        className=\"postFactoryInput\"\r\n        value={location}\r\n        onChange={locationOnChange}\r\n        type=\"text\"\r\n        placeholder=\"e.g. Berlin\"\r\n        maxLength={20}\r\n      />\r\n      <div className=\"buttonContainer\">\r\n        <img className=\"cameraIcon\" src={camera} onClick={handleFileClick}></img>\r\n        <input\r\n          className=\"fileinput\"\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          ref={hiddenFileInput}\r\n          onChange={onFileChange}\r\n        />\r\n        <input className=\"postButton\" type=\"submit\" value=\"post\" />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\nexport default PostForm;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABDQAAAQ0BROAatAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAKISURBVFiFzdfPi5VlFAfwz5l0xCEXoy7EEgkEf+AQqagJIbZsaYt0ITGCs3Jj/0Gb2rhsMUWpg4sI/wAlSJxFYiUNBUY6ogQitRhFwR+IdFy8zyUZ3vE+tztyPXA4vM/5Pud833PveZ7zRmYapAwNNPurQGBJLTAiduIARrpAH+DbzLxcFTgzuyqmkD3qV1WxK5Kvw1OcxEgFfjkm8QRruuEjM0XEKI7inZYSr8UYPsjMszVVjYh9OI/f8Pc890PM4IvMvBt4E5fwBu7ifkvMWXyYmW2+NgKv4ww2t7hXYCVu4V0FmPgYS2p+t34Ur+Eg/i25zeHH/xlsCEOV2KXznn/A3FApx2xNaUt510fE8YiYxj3ci4jpsrZ+gT3v4XZEXI6I4bI8W3JLnKp8iwnNfyTxD87he9wpa/cx0bLvuP/ac0dZmyzPdQTwecFexZ4W/z5cL5jP5vk2YRpf03ReTwSwW3MWXMDyF+BGCuYpdnWJOYmsvQu+wSOMZ+ajhUCZ+RDjBftlTeCuBCJiDbbgRGbe7IYvmBN4OyJW901AczrCTxXYjnSw2xeDwFvFVrcqrhW7YTEI/FFs27G6kGws9s/FIPCrplP29EBgV7EzfRMoF9AFjEfE1m74iNiMI7iYmXf6JlBkQtPbUxGx6gXJV+G0pmKHawJXEcjM6/hE0xFXImL/c2e6iBiOiP24gm04lplXa2LT213wPv4qex7j56KPy9oN7K2MNYmsHkpLJc5HxBgOlTfdprnXp/CLZhh90EvMwG3MZeZYLxv7lYj4HatpbqjEp5r5b9lL1rUlV5bcRjX92uvY3a/OYLQzFQ/jI+1T8WJLZyr+LjOfdIaDgcnAvw0HTuAZdIrD6LBqq3AAAAAASUVORK5CYII=\"","import React, { useState, useEffect } from 'react';\r\nimport { dbService } from \"../firebase\";\r\nimport Post from '../components/Post';\r\nimport PostForm from \"../components/PostForm\";\r\n\r\ninterface HomeProps {\r\n  userObj: any;\r\n}\r\n\r\nconst Home = ({ userObj }: HomeProps) => {\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    dbService.collection(\"posts\").onSnapshot(snapshot => {\r\n      const postArray = snapshot.docs.map(doc => ({id:doc.id, ...doc.data()}));\r\n      postArray.sort(postSort);\r\n      setPosts(postArray);\r\n    });\r\n  }, []);\r\n\r\n  const postSort = (a, b) => {\r\n    // sort by the post's createdAt\r\n    if (a.createdAt < b.createdAt) {\r\n      return 1;\r\n    } \r\n    else if (a.createdAt > b.createdAt) {\r\n      return -1\r\n    }\r\n    return 0\r\n  }\r\n\r\n  return (\r\n    <div className=\"homeContainer\">\r\n      <PostForm userObj={userObj} />\r\n      <div>\r\n        {posts.map((post) => (\r\n          <Post\r\n            key={post.id}\r\n            postObj={post}\r\n            userUid={userObj.uid}\r\n            userDisplayName={userObj.displayName}\r\n            isOwner={post.creatorId === userObj.uid}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Home;\r\n","import { useState, useEffect } from \"react\";\r\nimport { authService, storageService } from \"../firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./profile.css\";\r\n\r\ninterface ProfileProps {\r\n  userObj: any;\r\n  refreshUser: () => void;\r\n}\r\nconst Profile = ({ userObj, refreshUser }: ProfileProps) => {\r\n  const history = useHistory();\r\n  const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\r\n  const [attachment, setAttachment] = useState(\"\");\r\n  const [profilePicture, setProfilePicture] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // if displayName does not exist set the default name to the user's email without the domain\r\n    if (!userObj.displayName) {\r\n      userObj.updateProfile({\r\n        displayName: userObj.email,\r\n      });\r\n      refreshUser();\r\n    }\r\n\r\n    getProfilePictureRef()\r\n  });\r\n\r\n  const getProfilePictureRef = async () => {\r\n    const profilePictureRef = await storageService.ref().child(userObj.uid + '/profile');\r\n    profilePictureRef.getDownloadURL().then((url) => {\r\n      setProfilePicture(url);\r\n    })\r\n  }\r\n\r\n  const onProfilePictureChange = (event) => {\r\n    const {\r\n      target: { files },\r\n    } = event;\r\n    const theFile = files[0];\r\n    const reader = new FileReader();\r\n    reader.onloadend = (finishedEvent) => {\r\n      const fileUrl = (finishedEvent.target as FileReader).result.toString();\r\n      setAttachment(fileUrl);\r\n    };\r\n    reader.readAsDataURL(theFile);\r\n  };\r\n\r\n  const onProfilePictureSubmit = async (event) => {\r\n    event.preventDefault();\r\n    let attachmentUrl = \"\";\r\n    if (attachment !== \"\") {\r\n      const attachmentRef = storageService\r\n        .ref()\r\n        .child(`${userObj.uid}/profile`);\r\n      const response = await attachmentRef.putString(attachment, \"data_url\");\r\n      attachmentUrl = await response.ref.getDownloadURL();\r\n    }\r\n    getProfilePictureRef();\r\n  };\r\n\r\n  const onLogOutClick = () => {\r\n    authService.signOut();\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const onChange = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event;\r\n    setNewDisplayName(value);\r\n  };\r\n\r\n  const onChangeUsernameSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (userObj.displayName !== newDisplayName) {\r\n      await userObj.updateProfile({\r\n        displayName: newDisplayName,\r\n      });\r\n      refreshUser();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"profileContainer\">\r\n      <span className=\"title\">Edit profile </span>{\" \"}\r\n      <div className=\"profileImageCropper\">\r\n        <img alt=\"post\" className=\"profilePicture\" src={profilePicture} width=\"360px\" height=\"360px\" />\r\n      </div>\r\n      <form onSubmit={onProfilePictureSubmit}>\r\n        <span className=\"changePictureSpan\">Change profile picture</span>\r\n        <div className=\"buttonContainer\">\r\n          <input\r\n            className=\"fileinput\"\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={onProfilePictureChange}\r\n          />\r\n          <input className=\"profileButton\" type=\"submit\" value=\"submit\" />\r\n        </div>\r\n      </form>\r\n      <br />\r\n      <br />\r\n      <form onSubmit={onChangeUsernameSubmit}>\r\n        <span className=\"logOutSpan\">Change username</span>\r\n        <div className=\"inputContainer\">\r\n          <input\r\n            onChange={onChange}\r\n            className=\"nameInput\"\r\n            type=\"text\"\r\n            placeholder=\"Display name\"\r\n            value={newDisplayName}\r\n          />\r\n        </div>\r\n        <input className=\"profileButton\" type=\"submit\" value=\"submit\" />\r\n      </form>\r\n      <span className=\"logOutSpan\" onClick={onLogOutClick}>\r\n        Log Out\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\nexport default Profile;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./navigation.css\";\r\nimport Logo from \"../graphics/Instagram-Logo.png\";\r\n\r\ninterface NavigationProps {\r\n  userObj: any;\r\n}\r\n\r\nconst Navigation = ({ userObj }: NavigationProps) => {\r\n  return (\r\n    <div className=\"navigationBar\">\r\n      <div className=\"contentsLeft\">\r\n        <img src={Logo} alt=\"logo small\" className=\"LogoSmall\" width=\"100\"></img> \r\n      </div>\r\n      <div className=\"contentsRight\">\r\n        <nav>\r\n          <ul>\r\n            <li className=\"li\">\r\n              <Link to=\"/\">\r\n                <svg\r\n                  aria-label=\"Home\"\r\n                  className=\"icons\"\r\n                  fill=\"#262626\"\r\n                  viewBox=\"0 0 48 48\"\r\n                  >\r\n                  <path d=\"M45.3 48H30c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2-4.6-4.6-4.6s-4.6 2-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.5-.6 2.1 0l21.5 21.5c.4.4.6 1.1.3 1.6 0 .1-.1.1-.1.2v22.8c.1.8-.6 1.5-1.4 1.5zm-13.8-3h12.3V23.4L24 3.6l-20 20V45h12.3V34.2c0-4.3 3.3-7.6 7.6-7.6s7.6 3.3 7.6 7.6V45z\"></path>\r\n                </svg>\r\n              </Link>\r\n            </li>\r\n            <li className=\"li\">\r\n              <Link to=\"/profile\">\r\n                <svg\r\n                  aria-label=\"Profile\"\r\n                  className=\"icons\"\r\n                  fill=\"#262626\"\r\n                  viewBox=\"0 0 32 32\"\r\n                  >\r\n                  <path d=\"M16 0C7.2 0 0 7.1 0 16c0 4.8 2.1 9.1 5.5 12l.3.3C8.5 30.6 12.1 32 16 32s7.5-1.4 10.2-3.7l.3-.3c3.4-3 5.5-7.2 5.5-12 0-8.9-7.2-16-16-16zm0 29c-2.8 0-5.3-.9-7.5-2.4.5-.9.9-1.3 1.4-1.8.7-.5 1.5-.8 2.4-.8h7.2c.9 0 1.7.3 2.4.8.5.4.9.8 1.4 1.8-2 1.5-4.5 2.4-7.3 2.4zm9.7-4.4c-.5-.9-1.1-1.5-1.9-2.1-1.2-.9-2.7-1.4-4.2-1.4h-7.2c-1.5 0-3 .5-4.2 1.4-.8.6-1.4 1.2-1.9 2.1C4.2 22.3 3 19.3 3 16 3 8.8 8.8 3 16 3s13 5.8 13 13c0 3.3-1.2 6.3-3.3 8.6zM16 5.7c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 11c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z\"></path>\r\n                </svg>\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Navigation","import React from \"react\";\r\nimport { HashRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\r\nimport Auth from \"../routes/Auth\";\r\nimport Home from \"../routes/Home\";\r\nimport Profile from \"../routes/Profile\";\r\nimport Navigation from \"../components/Navigation\";\r\n\r\ninterface AppRouterProps {\r\n  refreshUser: () => void;\r\n  isLoggedIn: boolean;\r\n  userObj: any;\r\n}\r\n\r\nconst AppRouter = ({\r\n  refreshUser,\r\n  isLoggedIn,\r\n  userObj,\r\n}: AppRouterProps) => {\r\n  return (\r\n    <Router>\r\n      {isLoggedIn && <Navigation userObj={userObj} />}\r\n      <Switch>\r\n        {isLoggedIn ? (\r\n          <>\r\n            <Route exact path=\"/\">\r\n              <Home userObj={userObj} />\r\n            </Route>\r\n            <Route exact path=\"/profile\">\r\n              <Profile userObj={userObj} refreshUser={refreshUser} />\r\n            </Route>\r\n            <Redirect from=\"*\" to=\"/\" />\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Route exact path=\"/\">\r\n              <Auth />\r\n            </Route>\r\n            <Redirect from=\"*\" to=\"/\" />\r\n          </>\r\n        )}\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import React from 'react';\r\nimport AppRouter from './Router';\r\nimport { useState, useEffect } from 'react';\r\nimport { authService } from \"../firebase\";\r\n\r\nconst App = () => {\r\n  const [init, setInit] = useState<boolean>(false);\r\n  const [userObj, setUserObj] = useState(null);\r\n\r\n  useEffect(() => {\r\n    authService.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        setUserObj({\r\n          email: user.email,\r\n          displayName: user.displayName,\r\n          uid: user.uid,\r\n          updateProfile: (args) => user.updateProfile(args),\r\n        });\r\n        if (!user.displayName) { // if name does not exist then set it to the user's email\r\n          setUserObj({\r\n            email: user.email,\r\n            displayName: user.email.split(\"@\")[0],\r\n            uid: user.uid,\r\n            updateProfile: (args) => user.updateProfile(args),\r\n          });\r\n        }\r\n      } else {\r\n        setUserObj(null);\r\n      }\r\n      setInit(true);\r\n    });\r\n  }, []);\r\n\r\n  const refreshUser = () => {\r\n    const user = authService.currentUser;\r\n    setUserObj({\r\n      email: user.email,\r\n      displayName: user.displayName,\r\n      uid: user.uid,\r\n      updateProfile: (args) => user.updateProfile(args),\r\n    });\r\n  };\r\n  \r\n  return (\r\n    <div className=\"app\">\r\n      {init ? (\r\n        <AppRouter\r\n          refreshUser={refreshUser}\r\n          isLoggedIn={Boolean(userObj)}\r\n          userObj={userObj}\r\n        />\r\n      ) : (\r\n        \"Loading...\"\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n ","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport './styles.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}