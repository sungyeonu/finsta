{"version":3,"sources":["firebase.js","components/AuthForm.tsx","graphics/Instagram-Logo.png","routes/Auth.tsx","components/Post.tsx","graphics/editButton.png","components/PostFactory.tsx","routes/Home.tsx","routes/Profile.tsx","components/Navigation.tsx","components/Router.tsx","components/App.tsx","index.tsx"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebaseInstance","dbService","firestore","authService","auth","storageService","storage","AuthForm","useState","email","setEmail","password","setPassword","newAccount","setNewAccount","error","setError","onChange","event","target","name","value","onSubmit","a","preventDefault","createUserWithEmailAndPassword","data","signInWithEmailAndPassword","console","log","message","className","type","placeholder","required","onClick","prev","Auth","onGoogleClick","provider","GoogleAuthProvider","signInWithPopup","src","Logo","alt","width","Post","numLikes","likedUsers","postObj","userUid","isOwner","onDeleteClick","window","confirm","doc","id","delete","refFromURL","attachmentUrl","onLikeClick","includes","index","indexOf","splice","update","push","creatorDisplayName","location","height","aria-label","fill","viewBox","d","length","caption","PostFactory","userObj","setCaption","setLocation","attachment","setAttachment","attachmentRef","ref","child","uid","uuidv4","putString","response","getDownloadURL","postObject","createdAt","Date","now","creatorId","displayName","collection","add","maxLength","accept","theFile","files","reader","FileReader","onloadend","finishedEvent","fileUrl","result","readAsDataURL","Home","posts","setPosts","useEffect","onSnapshot","snapshot","postArray","docs","map","post","Profile","refreshUser","history","useHistory","newDisplayName","setNewDisplayName","updateProfile","signOut","Navigation","to","AppRouter","isLoggedIn","exact","path","from","App","init","setInit","setUserObj","onAuthStateChanged","user","args","split","currentUser","Boolean","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f5e0cebc.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB6ytJ2V5CqADWwu0Y9jtEzrY924PfxVcw\",\r\n  authDomain: \"finsta-8e8a4.firebaseapp.com\",\r\n  databaseURL: \"https://finsta-8e8a4.firebaseio.com\",\r\n  projectId: \"finsta-8e8a4\",\r\n  storageBucket: \"finsta-8e8a4.appspot.com\",\r\n  messagingSenderId: \"604707364277\",\r\n  appId: \"1:604707364277:web:04aa3f34d6dbab3bfd8dfc\",\r\n}; \r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n// const authService = firebase.auth();\r\n\r\nexport const firebaseInstance = firebase;\r\nexport const dbService = firebase.firestore();\r\nexport const authService = firebase.auth();\r\nexport const storageService = firebase.storage();","import React, { useState } from \"react\";\r\nimport { authService } from \"../firebase\";\r\nimport \"../styles.css\";\r\nimport \"../routes/auth.css\";\r\n\r\nconst AuthForm = () => {\r\n  const [email, setEmail] = useState<string>(\"\");\r\n  const [password, setPassword] = useState<string>(\"\");\r\n  const [newAccount, setNewAccount] = useState<Boolean>(true);\r\n  const [error, setError] = useState<string>(\"\");\r\n\r\n  const onChange = (event) => {\r\n    const {\r\n      target: { name, value },\r\n    } = event;\r\n    if (name === \"email\") {\r\n      setEmail(value);\r\n    } else if (name === \"password\") {\r\n      setPassword(value);\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      let data;\r\n      if (newAccount) {\r\n        data = await authService.createUserWithEmailAndPassword(\r\n          email,\r\n          password\r\n        );\r\n      } else {\r\n        data = await authService.signInWithEmailAndPassword(email, password);\r\n      }\r\n      console.log(data);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const toggleAccount = () => setNewAccount((prev) => !prev);\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={onSubmit}>\r\n        <input\r\n          className=\"authInput\"\r\n          name=\"email\"\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          required\r\n          value={email}\r\n          onChange={onChange}\r\n        />\r\n        <input\r\n          className=\"authInput\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          required\r\n          value={password}\r\n          onChange={onChange}\r\n        />\r\n        <input\r\n          className=\"signInWithGoogleButton\"\r\n          type=\"submit\"\r\n          value={newAccount ? \"Sign up\" : \"Log in \"}\r\n        />\r\n\r\n      </form>\r\n      {error && (\r\n        <>\r\n          <span className=\"errorText\">{error}</span>\r\n          <br />\r\n          <br />\r\n        </>\r\n      )}\r\n      <span onClick={toggleAccount}>\r\n        {newAccount\r\n          ? \"Have an account? Log in\"\r\n          : \"Don't have an account? Sign up\"}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\nexport default AuthForm;\r\n","export default __webpack_public_path__ + \"static/media/Instagram-Logo.d9be23dd.png\";","import React from 'react';\r\nimport AuthForm from '../components/AuthForm';\r\nimport { authService, firebaseInstance } from '../firebase';\r\n// import \"../styles.css\";\r\nimport \"./auth.css\";\r\nimport Logo from \"../graphics/Instagram-Logo.png\";\r\n\r\nconst Auth = () => {\r\n  const onGoogleClick = async(event) => {\r\n    const { target:{name} } = event;\r\n    let provider;\r\n    if (name === \"google\") {\r\n      provider = new firebaseInstance.auth.GoogleAuthProvider();\r\n    }\r\n    await authService.signInWithPopup(provider);\r\n  }\r\n\r\n  return (\r\n    <div className=\"authContainer\">\r\n      <img\r\n        src={Logo}\r\n        alt=\"Instagram Logo\"\r\n        className=\"logoLarge\"\r\n        width=\"180\"\r\n      ></img>\r\n      <span className=\"greyLargeText\">\r\n        Sign up to see photos from your friends.\r\n      </span>\r\n      <button\r\n        name=\"google\"\r\n        className=\"signInWithGoogleButton\"\r\n        onClick={onGoogleClick}\r\n      >\r\n        Log in with Google\r\n      </button>\r\n      <span className=\"greyLargeText\">OR</span>\r\n      <AuthForm />\r\n      <span className=\"greySmallText\">\r\n        By signing up, you agree to our Terms, Data Policy and Cookies Policy\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import React  from \"react\";\r\nimport { dbService, storageService } from \"../firebase\";\r\nimport \"./post.css\";\r\nimport editLogo from '../graphics/editButton.png';\r\n\r\ninterface PostProps {\r\n  isOwner: boolean;\r\n  userUid: any;\r\n  postObj: any;\r\n}\r\n\r\nconst Post = ({ postObj, userUid, isOwner }: PostProps) => {\r\n  const onDeleteClick = async () => {\r\n    const ok: boolean = window.confirm(\r\n      \"Are you sure you want to delete this post?\"\r\n    );\r\n    if (ok) {\r\n      await dbService.doc(`posts/${postObj.id}`).delete();\r\n      await storageService.refFromURL(postObj.attachmentUrl).delete();\r\n    }\r\n  };\r\n\r\n  const onLikeClick = async () => {\r\n    // add user to likedUsers if the user had not liked the post. If else, then take the user off likedUsers\r\n    let likedUsers = postObj.likedUsers;\r\n    if (likedUsers.includes(userUid)) {\r\n      const index = likedUsers.indexOf(userUid);\r\n      likedUsers.splice(index, 1);\r\n      await dbService.doc(`posts/${postObj.id}`).update({\r\n        likedUsers: likedUsers,\r\n      });\r\n    } else {\r\n      likedUsers.push(userUid);\r\n      await dbService.doc(`posts/${postObj.id}`).update({\r\n        likedUsers: likedUsers,\r\n      });\r\n    }\r\n  };\r\n\r\n  const likeButton = (likedUsers) => {\r\n    if (likedUsers.includes(userUid)) {\r\n      return (\r\n        <svg\r\n          onClick={onLikeClick}\r\n          aria-label=\"Unlike\"\r\n          className=\"_8-yf5 \"\r\n          fill=\"#ed4956\"\r\n          height=\"24\"\r\n          viewBox=\"0 0 48 48\"\r\n          width=\"24\"\r\n        >\r\n          <path d=\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path>\r\n        </svg>\r\n      );\r\n    } else {\r\n      return (\r\n        <svg\r\n          onClick={onLikeClick}\r\n          aria-label=\"Like\"\r\n          className=\"icon\"\r\n          fill=\"#262626\"\r\n          height=\"24\"\r\n          viewBox=\"0 0 48 48\"\r\n          width=\"24\"\r\n        >\r\n          <path d=\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path>\r\n        </svg>\r\n      );\r\n    }\r\n  }\r\n  const likesSpan = (numLikes) => {\r\n    if (numLikes == 1) {\r\n      return <span className=\"numLikes\"> {numLikes} like </span>;\r\n    } else {\r\n      return <span className=\"numLikes\"> {numLikes} likes </span>;\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"postContainer\">\r\n      <div className=\"topInfo\">\r\n        <span className=\"creatorName\">{postObj.creatorDisplayName}</span>\r\n        {isOwner ? (\r\n          <div className=\"deletePostButton\">\r\n            <img\r\n              onClick={onDeleteClick}\r\n              src={editLogo}\r\n              alt=\"Edit Post\"\r\n              width=\"18px\"\r\n            />\r\n          </div>\r\n        ) : (\r\n          <div />\r\n        )}\r\n      </div>\r\n      <span className=\"location\">{postObj.location}</span>\r\n      {postObj.attachmentUrl && (\r\n        <img\r\n          alt=\"post\"\r\n          src={postObj.attachmentUrl}\r\n          width=\"360px\"\r\n          height=\"360px\"\r\n        />\r\n      )}\r\n      <div className=\"middleInfo\">\r\n        <div className=\"postIcons\">\r\n          {likeButton(postObj.likedUsers)}\r\n        </div>\r\n        {/* <svg\r\n          aria-label=\"Comment\"\r\n          className=\"icon\"\r\n          fill=\"#262626\"\r\n          height=\"24\"\r\n          viewBox=\"0 0 48 48\"\r\n          width=\"24\"\r\n        >\r\n          <path\r\n            clip-rule=\"evenodd\"\r\n            d=\"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z\"\r\n            fill-rule=\"evenodd\"\r\n          ></path>\r\n        </svg> */}\r\n        {likesSpan(postObj.likedUsers.length)}\r\n      </div>\r\n      <span className=\"caption\">{postObj.caption}</span>\r\n      <span className=\"location\">{}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post","export default \"data:image/png;base64,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\"","import React, { useState } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { storageService, dbService } from \"../firebase\";\r\nimport \"./postFactory.css\";\r\n\r\nconst PostFactory = ({ userObj }) => {\r\n  const [caption, setCaption] = useState<string>(\"\");\r\n  const [location, setLocation] = useState<string>(\"\");\r\n  const [attachment, setAttachment] = useState(\"\");\r\n  \r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    let attachmentUrl = \"\";\r\n    if (attachment !== \"\") {\r\n      const attachmentRef = storageService\r\n        .ref()\r\n        .child(`${userObj.uid}/${uuidv4()}`);\r\n      const response = await attachmentRef.putString(attachment, \"data_url\");\r\n      attachmentUrl = await response.ref.getDownloadURL();\r\n    }\r\n    const postObject = {\r\n      caption: caption,\r\n      location: location,\r\n      createdAt: Date.now(),\r\n      creatorId: userObj.uid,\r\n      attachmentUrl,\r\n      creatorDisplayName: userObj.displayName,\r\n      likedUsers: []\r\n    };\r\n    if (attachmentUrl && caption) {\r\n      await dbService.collection(\"posts\").add(postObject);\r\n      setCaption(\"\");\r\n      setLocation(\"\");\r\n      setAttachment(\"\");\r\n    } else {\r\n      console.log(\"error\", postObject);\r\n    }\r\n\r\n  };\r\n\r\n  const captionOnChange = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event;\r\n    setCaption(value); \r\n  };\r\n\r\n  const locationOnChange = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event;\r\n    setLocation(value);\r\n  };\r\n\r\n  const onFileChange = (event) => {\r\n    const {\r\n      target: { files },\r\n    } = event;\r\n    const theFile = files[0];\r\n    const reader = new FileReader();\r\n    reader.onloadend = (finishedEvent) => {\r\n      var fileUrl = (finishedEvent.target as FileReader).result;\r\n      setAttachment(fileUrl);\r\n    };\r\n    reader.readAsDataURL(theFile);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmit} className=\"postFactoryContainer\">\r\n      <span className=\"postFactoryTitle\">Create post</span>\r\n      <span className=\"postFactoryText\">Caption*</span>\r\n      <input\r\n        className=\"postFactoryInput\"\r\n        value={caption}\r\n        onChange={captionOnChange}\r\n        type=\"text\"\r\n        placeholder=\"e.g. my favorite cookie is...\"\r\n        maxLength={160}\r\n      />\r\n      <span className=\"postFactoryText\">Location</span>\r\n      <input\r\n        className=\"postFactoryInput\"\r\n        value={location}\r\n        onChange={locationOnChange}\r\n        type=\"text\"\r\n        placeholder=\"e.g. Berlin\"\r\n        maxLength={20}\r\n      />\r\n      <div className=\"buttonContainer\">\r\n        <input\r\n          className=\"fileinput\"\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          onChange={onFileChange}\r\n        />\r\n        <input className=\"postButton\" type=\"submit\" value=\"post\" />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\nexport default PostFactory;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { dbService } from '../firebase';\r\nimport Post from '../components/Post';\r\nimport PostFactory from '../components/PostFactory';\r\ninterface HomeProps {\r\n  userObj: any;\r\n}\r\n\r\nconst Home = ({ userObj }: HomeProps) => {\r\n  const [posts, setPosts] = useState<[]>([]);\r\n\r\n  useEffect(() => {\r\n    dbService.collection(\"posts\").onSnapshot(snapshot => {\r\n      const postArray = snapshot.docs.map(doc => ({id:doc.id, ...doc.data()}));\r\n      setPosts(postArray);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"homeContainer\">\r\n      <PostFactory userObj={userObj} />\r\n      <div>\r\n        {posts.map((post) => (\r\n          <Post\r\n            postObj={post}\r\n            userUid={userObj.uid}\r\n            isOwner={post.creatorId === userObj.uid}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Home;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { authService } from \"../firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./profile.css\";\r\nconst Profile = ({ userObj, refreshUser }) => {\r\n  const history = useHistory();\r\n  const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\r\n\r\n  useEffect(() => {\r\n    if (!userObj.displayName) { // if displayName does not exist set the default name to the user's email without the domain\r\n      userObj.updateProfile({\r\n        displayName: userObj.email\r\n      });\r\n      refreshUser();\r\n    }\r\n  });\r\n\r\n  const onLogOutClick = () => {\r\n    authService.signOut();\r\n    history.push(\"/\");\r\n  };\r\n  \r\n  const onChange = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event;\r\n    setNewDisplayName(value);\r\n  };\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (userObj.displayName !== newDisplayName) {\r\n      await userObj.updateProfile({\r\n        displayName: newDisplayName,\r\n      });\r\n      refreshUser();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"profileContainer\">\r\n      <span className=\"title\">Edit profile </span>\r\n      <form onSubmit={onSubmit}>\r\n        <span className=\"logOutSpan\">Change username</span>\r\n        <br></br>\r\n        <div className=\"inputContainer\">\r\n          <input\r\n            onChange={onChange}\r\n            className=\"nameInput\"\r\n            type=\"text\"\r\n            placeholder=\"Display name\"\r\n            value={newDisplayName}\r\n          />\r\n          <input className=\"profileButton\" type=\"submit\" value=\"Submit\" />\r\n        </div>\r\n      </form>\r\n      <span className=\"logOutSpan\" onClick={onLogOutClick}>\r\n        Log Out\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\nexport default Profile;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./navigation.css\";\r\nimport Logo from \"../graphics/Instagram-Logo.png\";\r\n\r\ninterface NavigationProps {\r\n  userObj: any;\r\n}\r\n\r\nconst Navigation = ({ userObj }: NavigationProps) => {\r\n  return (\r\n    <div className=\"navigationBar\">\r\n      <div className=\"contentsLeft\">\r\n        <img src={Logo} alt=\"logo small\" className=\"LogoSmall\" width=\"100\"></img> \r\n      </div>\r\n      <div className=\"contentsRight\">\r\n        <nav>\r\n          <ul>\r\n            <li className=\"li\">\r\n              <Link to=\"/\">\r\n                <svg\r\n                  aria-label=\"Home\"\r\n                  className=\"icons\"\r\n                  fill=\"#262626\"\r\n                  viewBox=\"0 0 48 48\"\r\n                  >\r\n                  <path d=\"M45.3 48H30c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2-4.6-4.6-4.6s-4.6 2-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.5-.6 2.1 0l21.5 21.5c.4.4.6 1.1.3 1.6 0 .1-.1.1-.1.2v22.8c.1.8-.6 1.5-1.4 1.5zm-13.8-3h12.3V23.4L24 3.6l-20 20V45h12.3V34.2c0-4.3 3.3-7.6 7.6-7.6s7.6 3.3 7.6 7.6V45z\"></path>\r\n                </svg>\r\n              </Link>\r\n            </li>\r\n            <li className=\"li\">\r\n              <Link to=\"/profile\">\r\n                <svg\r\n                  aria-label=\"Profile\"\r\n                  className=\"icons\"\r\n                  fill=\"#262626\"\r\n                  viewBox=\"0 0 32 32\"\r\n                  >\r\n                  <path d=\"M16 0C7.2 0 0 7.1 0 16c0 4.8 2.1 9.1 5.5 12l.3.3C8.5 30.6 12.1 32 16 32s7.5-1.4 10.2-3.7l.3-.3c3.4-3 5.5-7.2 5.5-12 0-8.9-7.2-16-16-16zm0 29c-2.8 0-5.3-.9-7.5-2.4.5-.9.9-1.3 1.4-1.8.7-.5 1.5-.8 2.4-.8h7.2c.9 0 1.7.3 2.4.8.5.4.9.8 1.4 1.8-2 1.5-4.5 2.4-7.3 2.4zm9.7-4.4c-.5-.9-1.1-1.5-1.9-2.1-1.2-.9-2.7-1.4-4.2-1.4h-7.2c-1.5 0-3 .5-4.2 1.4-.8.6-1.4 1.2-1.9 2.1C4.2 22.3 3 19.3 3 16 3 8.8 8.8 3 16 3s13 5.8 13 13c0 3.3-1.2 6.3-3.3 8.6zM16 5.7c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 11c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z\"></path>\r\n                </svg>\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Navigation","import React from \"react\";\r\nimport { HashRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\r\nimport Auth from \"../routes/Auth\";\r\nimport Home from \"../routes/Home\";\r\nimport Profile from \"../routes/Profile\";\r\nimport Navigation from \"../components/Navigation\";\r\n\r\ninterface AppRouterProps {\r\n  refreshUser: () => void;\r\n  isLoggedIn: boolean;\r\n  userObj: any;\r\n}\r\n\r\nconst AppRouter = ({\r\n  refreshUser,\r\n  isLoggedIn,\r\n  userObj,\r\n}: AppRouterProps) => {\r\n  return (\r\n    <Router>\r\n      {isLoggedIn && <Navigation userObj={userObj} />}\r\n      <Switch>\r\n        {isLoggedIn ? (\r\n          <>\r\n            <Route exact path=\"/\">\r\n              <Home userObj={userObj} />\r\n            </Route>\r\n            <Route exact path=\"/profile\">\r\n              <Profile userObj={userObj} refreshUser={refreshUser} />\r\n            </Route>\r\n            <Redirect from=\"*\" to=\"/\" />\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Route exact path=\"/\">\r\n              <Auth />\r\n            </Route>\r\n            <Redirect from=\"*\" to=\"/\" />\r\n          </>\r\n        )}\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import React from 'react';\nimport AppRouter from './Router';\nimport { useState, useEffect } from 'react';\nimport { authService } from \"../firebase\";\n\nfunction App(): React.ReactNode {\n  const [init, setInit] = useState<boolean>(false);\n  const [userObj, setUserObj] = useState(null);\n\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      if (user) {\n        setUserObj({\n          email: user.email,\n          displayName: user.displayName,\n          uid: user.uid,\n          updateProfile: (args) => user.updateProfile(args),\n        });\n        if (!user.displayName) { // if name does not exist then set it to the user's email\n          setUserObj({\n            email: user.email,\n            displayName: user.email.split(\"@\")[0],\n            uid: user.uid,\n            updateProfile: (args) => user.updateProfile(args),\n          });\n        }\n      } else {\n        setUserObj(null);\n      }\n      setInit(true);\n    });\n  }, []);\n\n  const refreshUser = () => {\n    const user = authService.currentUser;\n    setUserObj({\n      email: user.email,\n      displayName: user.displayName,\n      uid: user.uid,\n      updateProfile: (args) => user.updateProfile(args),\n    });\n  };\n  \n  return (\n    <div className=\"app\">\n      {init ? (\n        <AppRouter\n          refreshUser={refreshUser}\n          isLoggedIn={Boolean(userObj)}\n          userObj={userObj}\n        />\n      ) : (\n        \"Loading...\"\n      )}\n    </div>\n  );\n}\n\nexport default App;\n ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}